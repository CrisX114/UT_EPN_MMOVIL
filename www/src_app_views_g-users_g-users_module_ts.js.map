{"version":3,"file":"src_app_views_g-users_g-users_module_ts.js","mappings":"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","sources":["./src/app/views/g-users/g-users-routing.module.ts","./src/app/views/g-users/g-users.component.ts","./src/app/views/g-users/g-users.component.html","./src/app/views/g-users/g-users.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { GUsuariosComponent } from './g-users.component';\n\nconst routes: Routes = [{ path: '', component: GUsuariosComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class GUsuariosRoutingModule {}\n","import { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { User } from '../../models/user.interface';\nimport { UserService } from '../../components/services/user.service';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Component } from '@angular/core';\nimport { PreferenceService } from '../../components/services/preference.service';\nimport { Preference } from '../../models/preference.interface';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-g-users',\n  templateUrl: './g-users.component.html',\n  styleUrls: ['./g-users.component.css'],\n})\nexport class GUsuariosComponent {\n  //objeto observable que contiene los datos de usuarios desde el\n  //servicio userService.\n\n  //se almacenarán los usuarios registrados en el sistema\n  user: User[];\n  user$: Subscription;\n  //objeto que enviará los datos del usuario como argumento\n  navigationExtras: NavigationExtras = { state: { value: null } };\n  preferences: Preference;\n  userDelete: User;\n\n  constructor(\n    private router: Router,\n    private userSvc: UserService,\n    private preferenceSvc: PreferenceService,\n    private modal: NgbModal\n  ) {\n    this.userSvc.getUsers();\n    this.user$ = this.userSvc.user$.subscribe((data) => (this.user = data));\n    this.preferenceSvc.preference$.subscribe(\n      (pref) => (this.preferences = pref)\n    );\n  }\n\n  //función que se ejecuta cuando se da click en \"editar\"\n  //envia los datos del usuario como argumentos en el router\n  onGoToEdit(item: any): void {\n    this.navigationExtras.state.value = item;\n    this.router.navigate(['edit-user'], this.navigationExtras);\n  }\n  //función que se ejecuta cuando se da click en \"detalles\"\n  //envia los datos del usuario como argumentos en el router\n  onGoToSee(item: any): void {\n    this.navigationExtras.state.value = item;\n    this.router.navigate(['details'], this.navigationExtras);\n  }\n  //función que se ejecuta cuando se da click en \"borrar\"\n  //se envia, al servicio userService, el id del usuario a borrar\n  onGoToDelete(): void {\n    this.userSvc.onDeleteUser(this.userDelete.uid);\n    this.preferences.puedeEliminar = true;\n    this.preferences.idHuellaAccion = this.userDelete.idHuella;\n    this.userDelete = null;\n  }\n  onGoToNew(): void {\n    this.router.navigate(['new']);\n  }\n\n  onClickModal(contents: any, user: User) {\n    this.modal.open(contents, { size: 'lg' });\n    this.userDelete = user;\n  }\n}\n","<div *ngIf=\"preferences && user\">\n  <button\n    type=\"button\"\n    class=\"btn btn-success m-1\"\n    (click)=\"onGoToNew()\"\n    [disabled]=\"preferences.puedeCrear\"\n  >\n    Crear Nuevo Usuario\n  </button>\n  <div class=\"table-responsive\">\n    <table class=\"table table-hover\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Nombres</th>\n          <th scope=\"col\">Rol de Usuario</th>\n          <th scope=\"col\">Acción</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=\"table-info\" *ngFor=\"let item of user\">\n          <th scope=\"row\">{{ item.name }}</th>\n          <td>{{ item.role }}</td>\n          <td class=\"bnt-group\" role=\"group\">\n            <button\n              type=\"button\"\n              class=\"btn btn-sm btn-outline-warning m-1\"\n              (click)=\"onGoToSee(item)\"\n            >\n              Detalles\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-sm btn-outline-warning m-1\"\n              (click)=\"onGoToEdit(item)\"\n            >\n              Editar\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-sm btn-outline-danger m-1\"\n              (click)=\"onClickModal(contents, item)\"\n              [disabled]=\"\n                preferences.puedeEliminar || preferences.idHuellaAccion != 0\n              \"\n              *ngIf=\"preferences.emailAdmin != item.email\"\n            >\n              Eliminar\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<ng-template #contents let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-tittle\">ELIMINAR USUARIO</h4>\n    <button\n      class=\"close\"\n      aria-label=\"close\"\n      type=\"button\"\n      (click)=\"modal.dismiss()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <p>¿Está seguro/a de eliminar este usuario?</p>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"onGoToDelete()\">\n      SI\n    </button>\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"modal.dismiss()\">\n      NO\n    </button>\n  </div>\n  <div class=\"modal\"></div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { GUsuariosRoutingModule } from './g-users-routing.module';\nimport { GUsuariosComponent } from './g-users.component';\n\n@NgModule({\n  declarations: [GUsuariosComponent],\n  imports: [CommonModule, GUsuariosRoutingModule],\n})\nexport class GUsuariosModule {}\n"],"names":[],"sourceRoot":"webpack:///"}