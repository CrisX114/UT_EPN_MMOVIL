{"version":3,"file":"src_app_views_details_details_module_ts.js","mappings":";;;;;;;;;;;;;;;;AACuD;AACA;;;AAEvD,MAAM,MAAM,GAAW,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,gEAAgB,EAAE,CAAC,CAAC;AAM5D,MAAM,oBAAoB;;wFAApB,oBAAoB;iHAApB,oBAAoB;qHAHtB,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC,EAC9B,yDAAY;mIAEX,oBAAoB,oFAFrB,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEUd,wEAKC;IACC,wEAA4B;IAC1B,6EACA;IAAA,wEAAwB;IAAA,uDAAiB;IAAA,4DAAK;IAChD,4DAAK;IACL,wEAA4B;IAC1B,8EACA;IAAA,wEAAwB;IAAA,uDAAyB;IAAA,4DAAK;IACxD,4DAAK;IACP,qEAAe;;;IANa,0DAAiB;IAAjB,mFAAiB;IAIjB,0DAAyB;IAAzB,2FAAyB;;;IAInD,wEAA4B;IAC1B,gFACA;IAAA,wEAAwB;IAAA,2EAAgB;IAAA,4DAAK;IAC/C,4DAAK;;;;IArCjB,yEAA2C;IACzC,yEAAwC;IACtC,yEAAoC;IAClC,yEAAyB;IAAA,8EAAmB;IAAA,4DAAM;IAClD,yEAAuB;IACrB,wEAAwC;IACtC,wEAA4B;IAC1B,oEACA;IAAA,wEAAwB;IAAA,wDAAe;IAAA,4DAAK;IAC9C,4DAAK;IACL,yEAA4B;IAC1B,sFACA;IAAA,yEAAwB;IAAA,wDAAgB;IAAA,4DAAK;IAC/C,4DAAK;IACL,yEAA4B;IAC1B,6EACA;IAAA,yEAAwB;IAAA,wDAAe;IAAA,4DAAK;IAC9C,4DAAK;IACL,uIAce;IACf,iNAKc;IACd,yEAA4B;IAC1B,uEACA;IAAA,yEAAwB;IAAA,wDAAmB;IAAA,4DAAK;IAClD,4DAAK;IACP,4DAAK;IACP,4DAAM;IACN,2EAAoC;IAClC,8EAOC;IAJC,sTAAsB;IAKtB,oEACF;IAAA,4DAAS;IACT,8EAOC;IAJC,kYAAmC;IAKnC,sEACF;IAAA,4DAAS;IACX,4DAAM;IACR,4DAAM;IACR,4DAAM;IAEN,8EAIC;IADC,0TAA0B;IAE1B,wEACF;IAAA,4DAAS;IACX,4DAAM;;;;IArE8B,2DAAe;IAAf,iFAAe;IAIf,0DAAgB;IAAhB,kFAAgB;IAIhB,0DAAe;IAAf,iFAAe;IAGtC,0DAEgB;IAFhB,wIAEgB;IAoBO,0DAAmB;IAAnB,qFAAmB;IAS7C,0DAEC;IAFD,kJAEC;IAQD,0DAEC;IAFD,gJAEC;;;;IAoBT,0EAA0B;IACxB,yEAA6C;IAAA,2EAAgB;IAAA,4DAAK;IAClE,6EAKC;IADC,sRAAS,mBAAe,IAAC;IAEzB,2EAAyB;IAAA,iEAAO;IAAA,4DAAO;IACzC,4DAAS;IACX,4DAAM;IACN,0EAAwB;IACtB,oEAAG;IAAA,6GAAwC;IAAA,4DAAI;IACjD,4DAAM;IACN,0EAA0B;IACxB,8EAAuE;IAAzB,mUAAwB;IACpE,gEACF;IAAA,4DAAS;IACT,8EAAwE;IAA1B,uRAAS,mBAAe,IAAC;IACrE,gEACF;IAAA,4DAAS;IACX,4DAAM;IACN,sEAAyB;;AD3FpB,MAAM,gBAAgB;IAW3B,YACU,MAAc,EACd,OAAoB,EACpB,aAAgC,EAChC,KAAe;;QAHf,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAa;QACpB,kBAAa,GAAb,aAAa,CAAmB;QAChC,UAAK,GAAL,KAAK,CAAU;QAdzB,6CAA6C;QAC7C,SAAI,GAAS,IAAI,CAAC;QAElB,2EAA2E;QAC3E,qBAAgB,GAAqB;YACnC,KAAK,EAAE;gBACL,KAAK,EAAE,IAAI;aACZ;SACF,CAAC;QAQA,mEAAmE;QACnE,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC;QACtD,IAAI,CAAC,IAAI,GAAG,sBAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,MAAM,0CAAE,KAAK,0CAAE,KAAK,CAAC;QAC7C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,CACtC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,CACpC,CAAC;IACJ,CAAC;IACD,QAAQ;QACN,0DAA0D;QAC1D,oDAAoD;QACpD,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;YACpC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;SACnC;IACH,CAAC;IAED,wDAAwD;IACxD,UAAU;QACR,mEAAmE;QACnE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC7D,CAAC;IAED,wDAAwD;IAClD,YAAY;;;YAChB,IAAI;gBACF,MAAM,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,UAAI,CAAC,IAAI,0CAAE,GAAG,CAAC,CAAC;gBAChD,KAAK,CAAC,SAAS,CAAC,CAAC;gBACjB,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;YAAC,OAAO,GAAG,EAAE;gBACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAClB;;KACF;IAED,uDAAuD;IACvD,cAAc;QACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;IACpC,CAAC;IACD,SAAS,CAAC,cAAmB;QAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAClD,CAAC;;gFAxDU,gBAAgB;8GAAhB,gBAAgB;QCb7B,6GA6EM;QAIN,yMAwBc;;QAzGR,iFAAiB;;;;;;;;;;;;;;;;;;;;ACCwB;AAEiB;AACT;;AAYhD,MAAM,aAAa;;0EAAb,aAAa;0GAAb,aAAa;8GALf;YACP,yDAAY;YACZ,yEAAoB;SACrB;mIAEU,aAAa,mBAPtB,gEAAgB,aAGhB,yDAAY;QACZ,yEAAoB","sources":["./src/app/views/details/details-routing.module.ts","./src/app/views/details/details.component.ts","./src/app/views/details/details.component.html","./src/app/views/details/details.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DetailsComponent } from './details.component';\n\nconst routes: Routes = [{ path: '', component: DetailsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DetailsRoutingModule { }\n","import { Preference } from './../../models/preference.interface';\nimport { PreferenceService } from './../../components/services/preference.service';\nimport { User } from 'src/app/models/user.interface';\nimport { UserService } from '../../components/services/user.service';\nimport { Router, NavigationExtras } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.component.html',\n  styleUrls: ['./details.component.css'],\n})\nexport class DetailsComponent implements OnInit {\n  //objeto que contendrá al usuario visualizado\n  user: User = null;\n  preferences: Preference;\n  //objeto que será recibido como argumento (contiene el usuario visualizado)\n  navigationExtras: NavigationExtras = {\n    state: {\n      value: null,\n    },\n  };\n\n  constructor(\n    private router: Router,\n    private userSvc: UserService,\n    private preferenceSvc: PreferenceService,\n    private modal: NgbModal\n  ) {\n    //se guarda en user el usuario a visualizar (en caso de que exista)\n    const navigation = this.router.getCurrentNavigation();\n    this.user = navigation?.extras?.state?.value;\n    this.preferenceSvc.preference$.subscribe(\n      (pref) => (this.preferences = pref)\n    );\n  }\n  ngOnInit(): void {\n    //verifica si contiene un usuario para visualizar detalles\n    //caso contrario regresa a la vista de los usuarios.\n    if (typeof this.user === 'undefined') {\n      this.router.navigate(['g-users']);\n    }\n  }\n\n  //función que se ejecuta cuando se da click en \"editar\".\n  onGoToEdit(): void {\n    //envia los datos del usuario visualizado hacia la ruta \"edit-user\"\n    this.navigationExtras.state.value = this.user;\n    this.router.navigate(['edit-user'], this.navigationExtras);\n  }\n\n  //función que se ejecuta cuando se da click en \"Borrar\".\n  async onGoToDelete(): Promise<void> {\n    try {\n      await this.userSvc.onDeleteUser(this.user?.uid);\n      alert('Deleted');\n      this.onGoBackToList();\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  //función que se ejecuta cuando se da click en \"Atrás\".\n  onGoBackToList(): void {\n    this.router.navigate(['g-users']);\n  }\n  openModal(contentsDelete: any) {\n    this.modal.open(contentsDelete, { size: 'lg' });\n  }\n}\n","<div *ngIf=\"preferences\" class=\"container\">\n  <div class=\"row justify-content-center\">\n    <div class=\"card mt-2 col-md-6 p-0\">\n      <div class=\"card-header\">Detalles de Usuario</div>\n      <div class=\"card-body\">\n        <ul class=\"list-group list-group-flush\">\n          <li class=\"list-group-item\">\n            Nombre:\n            <h4 class=\"text-center\">{{ user.name }}</h4>\n          </li>\n          <li class=\"list-group-item\">\n            Correo Electrónico:\n            <h4 class=\"text-center\">{{ user.email }}</h4>\n          </li>\n          <li class=\"list-group-item\">\n            Rol de Usuario:\n            <h4 class=\"text-center\">{{ user.role }}</h4>\n          </li>\n          <ng-container\n            *ngIf=\"\n              user.horaIn != '00:00' && user.horasDeTrabajo != '00:00';\n              else horarioFlexible\n            \"\n          >\n            <li class=\"list-group-item\">\n              Hora de Entrada:\n              <h4 class=\"text-center\">{{ user.horaIn }}</h4>\n            </li>\n            <li class=\"list-group-item\">\n              Horas de Trabajo:\n              <h4 class=\"text-center\">{{ user.horasDeTrabajo }}</h4>\n            </li>\n          </ng-container>\n          <ng-template #horarioFlexible>\n            <li class=\"list-group-item\">\n              Horario de Trabajo:\n              <h4 class=\"text-center\">Horario Flexible</h4>\n            </li>\n          </ng-template>\n          <li class=\"list-group-item\">\n            Huella #:\n            <h4 class=\"text-center\">{{ user.idHuella }}</h4>\n          </li>\n        </ul>\n      </div>\n      <div class=\"btn-group\" role=\"group\">\n        <button\n          type=\"button\"\n          class=\"btn btn-outline-warning m-1 btn-sm\"\n          (click)=\"onGoToEdit()\"\n          [disabled]=\"\n            preferences.puedeActualizar || preferences.idHuellaAccion != 0\n          \"\n        >\n          Editar\n        </button>\n        <button\n          type=\"button\"\n          class=\"btn btn-outline-danger m-1 btn-sm\"\n          (click)=\"openModal(contentsDelete)\"\n          [disabled]=\"\n            preferences.puedeEliminar || preferences.idHuellaAccion != 0\n          \"\n        >\n          Eliminar\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <button\n    type=\"button\"\n    class=\"btn btn-secondary mt-2\"\n    (click)=\"onGoBackToList()\"\n  >\n    Atrás\n  </button>\n</div>\n\n<!-- Modales-->\n\n<ng-template #contentsDelete let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"text-center\" class=\"modal-tittle\">ELIMINAR USUARIO</h4>\n    <button\n      class=\"close\"\n      aria-label=\"close\"\n      type=\"button\"\n      (click)=\"modal.dismiss()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <p>¿Está seguro/a de eliminar este usuario?</p>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"onGoToDelete()\">\n      SI\n    </button>\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"modal.dismiss()\">\n      NO\n    </button>\n  </div>\n  <div class=\"modal\"></div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DetailsRoutingModule } from './details-routing.module';\nimport { DetailsComponent } from './details.component';\n\n\n@NgModule({\n  declarations: [\n    DetailsComponent\n  ],\n  imports: [\n    CommonModule,\n    DetailsRoutingModule\n  ]\n})\nexport class DetailsModule { }\n"],"names":[],"sourceRoot":"webpack:///"}